# 设计导航

- 业务建模
- 脚本扩展



# 活动域

>- 以古代部落狩猎猛犸象为例，一群古代部落的猎人，为了充饥，决定去狩猎一头猛犸象，这是他们的业务目标；
>
>- 狩猎一头猛犸象需要分几个步骤进行，
>  - 首先需要派出身材矫健、奔跑速度极快的年轻猎手去逗引猛犸象，向它扔石块，标枪等物品，激怒猛犸象
>  - 然后在猛犸象被激怒后，它们会追击年轻的猎手，这时，年轻猎手就需要把猛犸象引入事先选好的伏击圈，最好是类似山谷这样狭窄，容易从高处进行伏击的地方
>  - 等猛犸象进入山谷，年轻猎手跑出伏击圈后，号手吹响号角，两短一长为信号，负责切断交通的猎手听到号令后，将山谷前后用木材点燃熊熊烈火，切断它的退路和前进的道路
>  - 号手再次吹响号角，两声长，山上的伏击猎手听到号角后开始扔石块和长矛，直到猛犸象倒地
>  - 经过30分钟等待，上前确认猛犸象死亡
>- 狩猎完成，接下来进入运输、食物的处理、存储等活动域

## 活动域的组成

- 业务目标：狩猎猛犸象
- 角色：逗引猎手、号手、火攻猎手、伏击猎手
- 工具：石头、标枪、号角
- 规则：
  - 两短一长号角，开始切断交通；两长号角，开始攻击
  - 猛犸象进入伏击圈，逗引猎手跑出伏击圈就吹号
  - 猛犸象倒地后30分钟确认
- 流程：逗引 → 断交通 → 伏击
- 对象：猛犸象
- 信号：号角声
- 结果：被狩猎的猛犸象



# 业务建模

## 业务模型组成部分

- 组织(Organization)
- 角色(Role)
- 用户(User)
- 活动域(ActivityDomain)
  - 有明确的业务目标
  - 有输入、输出
  - 有参与者定义（主要以角色定义）
  - 由一系列的业务活动组成活动流，串行、并发、串并结合执行
  - 有业务规则需要遵守
  - 有符号表达业务信息

